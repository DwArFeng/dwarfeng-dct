# dwarfeng-dct

Dwarfeng（赵扶风）的 DCT 服务，基于 `subgrade` 项目，提供了数据编码与传输的功能。

---

## DCT 能够做什么？

DCT 是数据编码与传输（Data Coding and Transmission）的缩写。总体来说，DCT 服务提供了一种风格统一，易于阅读，
适用于多种数据类型的数据编码与传输的数据处理方式。这种数据处理方式通过 `subgrade` 项目的处理器对外提供。

您可以在以下场景中使用 `dwarfeng-dct` 项目：

1. 在设备侧采集多种类型的数据，将数据编码后发送到消息队列，使用时从消息队列中获取数据，解码后进行处理，且不丢失数据类型信息。
2. 采集的数据类型不固定，使用数据库存储数据，且不丢失数据类型信息。
3. 编码后的数据相对可读，不像 Base64 编码那样难以阅读，且数据编码后长度相对较短。

## 关于数据

`dwarfeng-dct` 项目中的数据指的是现实中设备运行过程中产生的数据，例如：

- 计算机的 CPU 温度、使用率等。
- 电梯的运行状态、故障信息等。
- 机床的能耗、运行状态等、报警文本等。

数据具有如下的特点:

1. 每个数据都有一个数据值，数据值的类型可以是任意的，如 `boolean`、`int`、`double`、`String` 等，数据值可以是 `null`。
2. 每个数据都有自己的发生时间。
3. 每个数据都属于一个数据点位，数据点位的类型是 `LongIdKey`，每一个数据点位都有一个固定的意义。

以下是一个示例，某设备采集了一台计算机一小时内的开机情况和 CPU 使用率（为了简化，数据每 10 分钟记录一次）：

| 数据点       | 发生时间  | 值     |
|-----------|-------|-------|
| 1（是否开机）   | 00:00 | false |
| 2（CPU使用率） | 00:00 | null  |
| 1（是否开机）   | 00:10 | true  |
| 2（CPU使用率） | 00:10 | 0.10  |
| 1（是否开机）   | 00:20 | true  |
| 2（CPU使用率） | 00:20 | 0.95  |
| 1（是否开机）   | 00:30 | true  |
| 2（CPU使用率） | 00:30 | 0.70  |
| 1（是否开机）   | 00:40 | true  |
| 2（CPU使用率） | 00:40 | 0.50  |
| 1（是否开机）   | 00:50 | false |
| 2（CPU使用率） | 00:50 | null  |

通过更多更密集的数据记录，可以更加精确的描述设备的运行情况。

设备采集的这些数据，可以通过 `dwarfeng-dct` 项目进行编码，编码后的数据可以存储到数据库中，也可以通过消息队列发送到其他地方。
使用 `dwarfeng-dct` 编码后的数据，解码后可以还原为原始数据，值的类型信息不会丢失。

## 特性

1. Subgrade 架构支持。
2. 数据采用统一接口定义，支持不同实现。
3. 支持编码/解码常见的基本类型，同时支持用户扩展。
4. 编码/解码基于 `FastJson`，编码后的数据相对可读，且编码/解码速度快。

运行 `src/test` 下的示例以观察全部特性。

| 示例类名 | 说明 |
|------|----|
| 暂无   | 暂无 |

## 值的类型支持

`dwarfeng-dct` 项目支持的值的类型如下：

| 类型名 | 说明  |
|-----|-----|
| 待补充 | 待补充 |

## 安装说明

1. 下载源码。

   待补充。

2. 项目安装。

   进入项目根目录，执行 maven 命令
   ```
   mvn clean source:jar install
   ```

3. enjoy it

---

## 如何使用

1. 运行 `src/test` 下的 `Example` 以观察全部特性。
2. 观察项目结构，将其中的配置运用到其它的 subgrade 项目中。

### 单例模式

待补充。

### 多实例模式

待补充。
